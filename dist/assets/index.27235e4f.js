import{r as m,j as r,a as u,T as y,b as v,c as d,d as f,R as q,e as x,f as N}from"./vendor.f28711ae.js";const P=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}};P();const T=e=>e.length<=80?e:e.substring(0,76)+"...",O=e=>e.length>=10?e.slice(0,9).concat("..."):e,l=(e,s)=>Object.keys(e).sort((n,a)=>n.localeCompare(a)).reduce((n,a)=>{const t=e[a];return s?n[a]=typeof t=="string"?T(t):Array.isArray(t)?O(t):t:n[a]=t,n},{}),p=e=>{const s=e.substring(e.indexOf("?")+1);return decodeURIComponent(s).split("&").map(decodeURIComponent)},h=e=>{const s=decodeURIComponent(e);return console.log(s),s.split("&").reduce((a,t)=>{const[i,o]=t.split("=");return o.includes(",")?a[i]=o.split(","):a[i]=o,a},{})},g=(e,s,n)=>{e&&e[s]&&(e[s]=n(e[s]))},b=(e,s)=>{let n={};return p(e).forEach(a=>{var i;const t=a.indexOf("=");if(a.startsWith("embed_config")){const o=JSON.parse(a.substring(t+1));g((i=o==null?void 0:o.adsConfig)==null?void 0:i.adTagParameters,"cust_params",c=>l(h(c),s)),g(o==null?void 0:o.adsConfig,"adTagParameters",c=>l(c,s)),n.embed_config=l(o,s)}else n[a.substring(0,t)]=a.substring(t+1)}),n=l(n,s),JSON.stringify(n,null,2)},_=(e,s)=>{let n={};return p(e).forEach(a=>{const t=a.indexOf("=");if(a.startsWith("cust_params")){const i=a.indexOf("="),o=a.substring(i+1);n.cust_params=l(h(o),s)}else n[a.substring(0,t)]=a.substring(t+1)}),n=l(n,s),JSON.stringify(n,null,2)};function S(e){e.preventDefault();const s=[...e.target.elements].filter(c=>c.id==="request-1")[0].value,n=[...e.target.elements].filter(c=>c.id==="request-2")[0].value,a=[...e.target.elements].filter(c=>c.id==="radio_truncate_values")[0].checked;[...e.target.elements].filter(c=>c.id==="radio_ignore_values")[0].checked;const t=[...e.target.elements].filter(c=>c.id==="radio_type_youtube")[0].checked,i=t?b(s,a):_(s,a),o=t?b(n,a):_(n,a);return[i,o]}function w({setParsed:e}){const[s,n]=m.exports.useState("");return r("div",{id:"controls-container",children:u("form",{id:"form",onSubmit:t=>{t==null||t.preventDefault(),e(S(t))},children:[u("div",{className:"request-container",children:[r("div",{children:"1"}),r("textarea",{className:"request",id:"request-1",rows:"1",cols:"50"})]}),u("div",{className:"request-container",children:[r("div",{children:"2"}),r("textarea",{className:"request",id:"request-2",rows:"1",cols:"50"})]}),u("div",{id:"controls",children:[r("input",{type:"radio",id:"radio_type_youtube",name:"radio_request_type",value:"radio_type_youtube",defaultChecked:!0}),u("label",{htmlFor:"radio_type_youtube",children:["YouTube embed request ",r("span",{className:"light",children:"(e.g. https://www.youtube.com/embed/3LtcTkRMI1w?embed_config...)"})]}),r("br",{}),r("input",{type:"radio",id:"radio_type_page_targeting",name:"radio_request_type",value:"radio_type_page_targeting"}),u("label",{htmlFor:"radio_type_page_targeting",children:["GAM Page Targeting ",r("span",{className:"light",children:"(e.g. https://securepubads.g.doubleclick.net/gampad/ads?...)"})]}),r("br",{}),r("input",{type:"checkbox",id:"radio_truncate_values",name:"radio_truncate_values",value:"radio_truncate_values",defaultChecked:!0}),r("label",{htmlFor:"radio_truncate",children:"Truncate long values"}),r("br",{}),r("input",{type:"checkbox",id:"radio_ignore_values",name:"radio_ignore_values",value:"radio_ignore_values",defaultChecked:!0}),r("label",{htmlFor:"radio_truncate",children:"Ignore values"}),r("br",{}),u("div",{id:"parse-button-container",children:[r("button",{type:"submit",children:"Parse"}),s&&r("span",{id:"error",children:s})]})]})]})})}function C({parsed:[e,s]}){return console.log("hello",e,s),r("div",{className:"output-container",children:u(y,{children:[u(v,{children:[r(d,{children:"Parsed 1"}),r(d,{children:"Parsed 2"}),r(d,{children:"Diff"})]}),r(f,{children:u("div",{className:"output-request-container",children:[r("textarea",{className:"output-request",rows:"10",cols:"50",value:e}),r("div",{onClick:()=>{navigator.clipboard.writeText(e)},children:"\u{1F4CB}"})]})}),r(f,{children:u("div",{className:"output-request-container",children:[r("textarea",{className:"output-request",rows:"10",cols:"50",value:s}),r("div",{onClick:()=>{navigator.clipboard.writeText(s)},children:"\u{1F4CB}"})]})}),r(f,{children:r("div",{className:"diff-container",children:r(q,{oldValue:e,newValue:s,splitView:!0,showDiffOnly:!0})})})]})})}function I(){const[e,s]=m.exports.useState([]);return u("div",{className:"App",children:[r("header",{children:"YouTube & GAM Request Differ"}),r(w,{setParsed:s}),r(C,{parsed:e})]})}x.render(r(N.StrictMode,{children:r(I,{})}),document.getElementById("root"));
