import{r as d,j as s,a as c,R as _,b,c as y}from"./vendor.5ee65e2f.js";const v=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}};v();const q=e=>e.length<=80?e:e.substring(0,76)+"...",x=e=>e.length>=10?e.slice(0,9).concat("..."):e,l=(e,r)=>Object.keys(e).sort((n,a)=>n.localeCompare(a)).reduce((n,a)=>{const t=e[a];return r?n[a]=typeof t=="string"?q(t):Array.isArray(t)?x(t):t:n[a]=t,n},{}),p=e=>{const r=e.substring(e.indexOf("?")+1);return decodeURIComponent(r).split("&").map(decodeURIComponent)},m=e=>{const r=decodeURIComponent(e);return console.log(r),r.split("&").reduce((a,t)=>{const[i,o]=t.split("=");return o.includes(",")?a[i]=o.split(","):a[i]=o,a},{})},f=(e,r,n)=>{e&&e[r]&&(e[r]=n(e[r]))},h=(e,r)=>{let n={};return p(e).forEach(a=>{var i;const t=a.indexOf("=");if(a.startsWith("embed_config")){const o=JSON.parse(a.substring(t+1));f((i=o==null?void 0:o.adsConfig)==null?void 0:i.adTagParameters,"cust_params",u=>l(m(u),r)),f(o==null?void 0:o.adsConfig,"adTagParameters",u=>l(u,r)),n.embed_config=l(o,r)}else n[a.substring(0,t)]=a.substring(t+1)}),n=l(n,r),JSON.stringify(n,null,2)},g=(e,r)=>{let n={};return p(e).forEach(a=>{const t=a.indexOf("=");if(a.startsWith("cust_params")){const i=a.indexOf("="),o=a.substring(i+1);n.cust_params=l(m(o),r)}else n[a.substring(0,t)]=a.substring(t+1)}),n=l(n,r),JSON.stringify(n,null,2)};function N(e){e.preventDefault();const r=[...e.target.elements].filter(u=>u.id==="request-1")[0].value,n=[...e.target.elements].filter(u=>u.id==="request-2")[0].value,a=[...e.target.elements].filter(u=>u.id==="radio_truncate_values")[0].checked;[...e.target.elements].filter(u=>u.id==="radio_ignore_values")[0].checked;const t=[...e.target.elements].filter(u=>u.id==="radio_type_youtube")[0].checked,i=t?h(r,a):g(r,a),o=t?h(n,a):g(n,a);return[i,o]}function O({setParsed:e}){const[r,n]=d.exports.useState("");return s("div",{id:"controls-container",children:c("form",{id:"form",onSubmit:t=>{t==null||t.preventDefault(),e(N(t))},children:[c("div",{className:"request-container",children:[s("div",{children:"1"}),s("textarea",{className:"request",id:"request-1",rows:"1",cols:"50"})]}),c("div",{className:"request-container",children:[s("div",{children:"2"}),s("textarea",{className:"request",id:"request-2",rows:"1",cols:"50"})]}),c("div",{id:"controls",children:[s("input",{type:"radio",id:"radio_type_youtube",name:"radio_request_type",value:"radio_type_youtube",defaultChecked:!0}),c("label",{htmlFor:"radio_type_youtube",children:["YouTube embed request ",s("span",{className:"light",children:"(e.g. https://www.youtube.com/embed/3LtcTkRMI1w?embed_config...)"})]}),s("br",{}),s("input",{type:"radio",id:"radio_type_page_targeting",name:"radio_request_type",value:"radio_type_page_targeting"}),c("label",{htmlFor:"radio_type_page_targeting",children:["GAM Page Targeting ",s("span",{className:"light",children:"(e.g. https://securepubads.g.doubleclick.net/gampad/ads?...)"})]}),s("br",{}),s("input",{type:"checkbox",id:"radio_truncate_values",name:"radio_truncate_values",value:"radio_truncate_values",defaultChecked:!0}),s("label",{htmlFor:"radio_truncate",children:"Truncate long values"}),s("br",{}),s("input",{type:"checkbox",id:"radio_ignore_values",name:"radio_ignore_values",value:"radio_ignore_values",defaultChecked:!0}),s("label",{htmlFor:"radio_truncate",children:"Ignore values"}),s("br",{}),c("div",{id:"parse-button-container",children:[s("button",{type:"submit",children:"Parse"}),r&&s("span",{id:"error",children:r})]})]})]})})}function P({parsed:[e,r]}){return console.log("hello",e,r),c("div",{className:"output-container",children:[s("hr",{}),c("div",{className:"output-request-container",children:[s("div",{children:"1"}),s("textarea",{className:"output",id:"output-request-1",rows:"20",cols:"50",value:e}),s("div",{onClick:()=>{navigator.clipboard.writeText(e)},children:"\u{1F4CB}"})]}),c("div",{className:"output-request-container",children:[s("div",{children:"2"}),s("textarea",{className:"output",id:"output-2",rows:"20",cols:"50",value:r}),s("div",{onClick:()=>{navigator.clipboard.writeText(r)},children:"\u{1F4CB}"})]}),c("div",{className:"diff-container",children:[s("hr",{}),s(_,{oldValue:e,newValue:r,splitView:!1,showDiffOnly:!0})]})]})}function S(){const[e,r]=d.exports.useState([]);return c("div",{className:"App",children:[s("header",{children:"YouTube & GAM Request Differ"}),s(O,{setParsed:r}),s(P,{parsed:e})]})}b.render(s(y.StrictMode,{children:s(S,{})}),document.getElementById("root"));
