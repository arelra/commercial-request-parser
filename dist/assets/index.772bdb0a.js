import{r as h,j as n,a as o,T as y,b as q,c as f,d as m,R as _,e as x,f as N}from"./vendor.00a9718d.js";const O=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=i(t);fetch(t.href,r)}};O();const P=e=>e.length<=80?e:e.substring(0,76)+"...",R=e=>e.length>=10?e.slice(0,9).concat("..."):e,l=(e,s,i)=>Object.keys(e).sort((a,t)=>a.localeCompare(t)).reduce((a,t)=>{const r=e[t];return i?a[t]=typeof r=="string"||Array.isArray(r)?"":r:s?a[t]=typeof r=="string"?P(r):Array.isArray(r)?R(r):r:a[t]=r,a},{}),p=e=>{const s=e.substring(e.indexOf("?")+1);return decodeURIComponent(s).split("&").map(decodeURIComponent)},g=e=>decodeURIComponent(e).split("&").reduce((a,t)=>{const[r,c]=t.split("=");return c.includes(",")?a[r]=c.split(","):a[r]=c,a},{}),v=(e,s,i)=>{e&&e[s]&&(e[s]=i(e[s]))},T=(e,s,i)=>{let a={};return p(e).forEach(t=>{var c;const r=t.indexOf("=");if(t.startsWith("embed_config")){const u=JSON.parse(t.substring(r+1));v((c=u==null?void 0:u.adsConfig)==null?void 0:c.adTagParameters,"cust_params",d=>l(g(d),s,i)),v(u==null?void 0:u.adsConfig,"adTagParameters",d=>l(d,s,i)),a.embed_config=l(u,s,i)}else a[t.substring(0,r)]=t.substring(r+1)}),a=l(a,s,i),JSON.stringify(a,null,2)},C=(e,s,i)=>{let a={};return p(e).forEach(t=>{const r=t.indexOf("=");if(t.startsWith("cust_params")){const c=t.indexOf("="),u=t.substring(c+1);a.cust_params=l(g(u),s,i)}else a[t.substring(0,r)]=t.substring(r+1)}),a=l(a,s,i),JSON.stringify(a,null,2)};function w(e){if(e.startsWith("https://www.youtube.com/embed/"))return!0}function S(e){if(e.startsWith("https://securepubads.g.doubleclick.net/gampad/ads"))return!0}function b(e,s,i){return e&&e.trim().length>0?w(e)?T(e,s,i):S(e)?C(e,s,i):"":""}function I(e){e.preventDefault();const s=[...e.target.elements].filter(r=>r.id==="request-1")[0].value,i=[...e.target.elements].filter(r=>r.id==="request-2")[0].value,a=[...e.target.elements].filter(r=>r.id==="radio_truncate_values")[0].checked,t=[...e.target.elements].filter(r=>r.id==="radio_ignore_values")[0].checked;return[b(s,a,t),b(i,a,t)]}function A({setParsed:e}){const[s,i]=h.exports.useState("");return n("div",{id:"controls-container",children:o("form",{id:"form",onSubmit:t=>{t==null||t.preventDefault(),e(I(t))},children:[o("div",{className:"request-container",children:[n("div",{children:"Request 1:"}),n("textarea",{className:"request",id:"request-1",rows:"5",wrap:"hard"})]}),o("div",{className:"request-container",children:[n("div",{children:"Request 2:"}),n("textarea",{className:"request",id:"request-2",rows:"5",wrap:"hard"})]}),o("div",{id:"controls",children:[n("input",{type:"checkbox",id:"radio_truncate_values",name:"radio_truncate_values",value:"radio_truncate_values",defaultChecked:!0}),n("label",{htmlFor:"radio_truncate",children:"Truncate long values"}),n("br",{}),n("input",{type:"checkbox",id:"radio_ignore_values",name:"radio_ignore_values",value:"radio_ignore_values",defaultChecked:!0}),n("label",{htmlFor:"radio_truncate",children:"Ignore values"}),n("br",{}),o("div",{id:"parse-button-container",children:[n("button",{type:"submit",children:"Parse"}),s&&n("span",{id:"error",children:s})]})]})]})})}function D({parsed:[e,s]}){return n("div",{className:"output-container",children:o(y,{children:[o(q,{children:[n(f,{children:"Parsed 1"}),n(f,{children:"Parsed 2"}),n(f,{children:"Diff"})]}),n(m,{children:o("div",{className:"output-request-container",children:[n("textarea",{className:"output-request",readOnly:!0,rows:"10",cols:"50",value:e,children:e}),n("div",{className:"copy",title:"Copy",onClick:()=>{navigator.clipboard.writeText(e)},children:"\u{1F4CB}"})]})}),n(m,{children:o("div",{className:"output-request-container",children:[n("textarea",{className:"output-request",readOnly:!0,rows:"10",cols:"50",value:s}),n("div",{class:"copy",title:"Copy",onClick:()=>{navigator.clipboard.writeText(s)},children:"\u{1F4CB}"})]})}),n(m,{children:n("div",{className:"diff-container",children:n(_,{oldValue:e,newValue:s,splitView:!0,showDiffOnly:!0,leftTitle:"Unmatched lines in 2",rightTitle:"Unmatched lines in 1",codeFoldMessageRenderer:i=>o("div",{className:"no-diff-msg",children:["Expand ",i," lines (no diff) ..."]})})})})]})})}function E(){const[e,s]=h.exports.useState([]);return o("div",{className:"app",children:[n("header",{children:"Commercial Request Parser"}),n(A,{setParsed:s}),n(D,{parsed:e})]})}x.render(n(N.StrictMode,{children:n(E,{})}),document.getElementById("root"));
